# 02-命令模式

## 1. 概述

1)    我们买了一套智能家电，有照明灯、风扇、冰箱、洗衣机，我们只要在手机上安装 app 就可以控制对这些家电工作。

2)    这些智能家电来自不同的厂家，我们不想针对每一种家电都安装一个 App，分别控制，我们希望只要一个 app

就可以控制全部智能家电。

3)    要实现一个 app 控制所有智能家电的需要，则每个智能家电厂家都要提供一个统一的接口给 app 调用，这时 就可以考虑使用命令模式。

4)    命令模式可将“动作的请求者”从“动作的执行者”对象中解耦出来.

5)    在我们的例子中，动作的请求者是手机 app，动作的执行者是每个厂商的一个家电产品

## 2.介绍

- 命令模式（Command Pattern）：在软件设计中，我们经常需要向某些对象发送请求，但是并不知道请求的接收者是谁，也不知道被请求的操作是哪个，

我们只需在程序运行时指定具体的请求接收者即可，此时，可以使用命令模式来进行设计

- 命名模式使得请求发送者与请求接收者消除彼此之间的耦合，让对象之间的调用关系更加灵活，实现解耦。
- 在命名模式中，会将一个请求封装为一个对象，以便使用不同参数来表示不同的请求(即命名)，同时命令模式也支持可撤销的操作。
- 通俗易懂的理解：将军发布命令，士兵去执行。其中有几个角色：将军（命令发布者）、士兵（命令的具体执行者）、命令(连接将军和士兵)。

Invoker 是调用者（将军），Receiver 是被调用者（士兵），MyCommand 是命令，实现了 Command 接口，持有接收对象

## 命令模式的原理类图

命令模式和外观模式有什么区别

![命令模式的结构图](assets/3-1Q11611335E44.gif)

命令模式的角色及职责

- Invoker：调用者角色
- Command：命令角色，需要执行的所有命令都在这里，可以是接口或者是抽象类
- Receiver：接受者角色，知道如何实施和执行一个请求相关的操作
- ConcreteCommand：将一个接受者对象与一个动作绑定，调用接受者相应的操作，实现execute